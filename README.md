# Grammar Genius (文法天才)

![C++](https://img.shields.io/badge/C++-17-blue?logo=cplusplus)
![Qt](https://img.shields.io/badge/Qt-5.14-green?logo=qt)
![Visual Studio](https://img.shields.io/badge/Visual%20Studio-2022-purple?logo=visual-studio)

一个基于C++的词法/文法分析工具，支持从正则表达式生成NFA/DFA/最小化DFA，并提供词法分析和SLR(1)文法分析功能。

## 主要功能

### 词法分析
- 🛠️ 正则表达式 → NFA → DFA → 最小化DFA
- 🖥️ 生成可执行词法分析程序
- 🔍 支持对源代码进行单词编码

### 文法分析
- 📜 SLR(1) 文法分析表生成
- 🌳 语法树可视化
- ⚙️ First/Follow 集合计算
- ❗ 文法冲突检测

## 环境要求
- **开发环境**：Visual Studio 2022 + Qt 5.14 (MSVC 2019工具集)
- **编译器**：需配置自带的mingw-w64-gcc-10.2编译器

## 快速开始

### 前置安装
```bash
解压编译器组件
1. 将 mingw-w64-gcc-10.2-Part02.rar 中的以下文件夹：
   • libexec

   • x86_64-w64-mingw32

   复制到 Genius根目录/mingw-w64-gcc-10.2/

2. 验证目录结构包含：
   ├─bin
   ├─i686-w64-mingw32
   ├─include
   ├─lib
   ├─share
   ├─libexec          # 从Part02添加
   └─x86_64-w64-mingw32  # 从Part02添加
```

### 编译运行
1. 打开 `Genius.sln` (位于`项目源程序\Genius`)
2. 在Visual Studio中点击 **调试 → 开始调试**

---

## 使用指南

### 词法分析窗口
| 视图         | 功能                                                                 |
|--------------|----------------------------------------------------------------------|
| **[Input]**  | 输入正则表达式（支持文本/文件） → 生成词法分析程序                   |
| **[NFA]**    | 可视化NFA状态转移图                                                 |
| **[DFA]**    | 展示DFA状态矩阵                                                     |
| **[MinDFA]** | 最小化DFA对比展示                                                   |
| **[Run]**    | ① 选择词法分析程序 ② 输入待编码文件 → 输出单词符号表                |

### 文法分析窗口
| 视图             | 功能                                                                 |
|------------------|----------------------------------------------------------------------|
| **[Input]**      | 输入文法规则 → 生成First/Follow集合                                 |
| **[Map]**        | 展示终结符-ASCII映射表                                              |
| **[LR(0)DFA]**   | 展示LR(0)DFA邻接矩阵                                                |
| **[SLR(1)]**     | 生成SLR(1)分析表                                                    |
| **[Run]**        | ① 输入单词编码 ② 执行语法分析 → 输出分析过程树                      |

---

## 错误代码表
| 错误码 | 描述                                                                 |
|--------|----------------------------------------------------------------------|
| **E1** | 输入的单词编码为空                                                  |
| **E2** | [Run]视图未选择输入文件或文本                                        |
| **E3** | 未选择输入模式（词法文件/源代码）                                    |
| **E7** | 输入的语句不符合语法规则                                            |
| **E8** | 输入模式与内容不匹配（如选词法模式却输入源代码）                     |

---

## 注意事项
⚠️ **重要操作提示**：
1. 强制推送仅用于个人分支：`git push --force-with-lease`
2. 进行文法分析前必须先生成SLR(1)分析表（触发**E6**错误）
3. 源代码模式需先通过词法分析器生成中间编码

📦 项目文件结构：
```
Genius/
├─ mingw-w64-gcc-10.2/    # GCC编译器组件
├─ Genius.sln             # Visual Studio解决方案文件
└─ ...                    # 其他源代码文件
